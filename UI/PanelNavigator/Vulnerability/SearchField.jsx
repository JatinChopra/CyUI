import React from "react";
import { Box, Button, TextField } from "@mui/material";
import { styled } from "@mui/material/styles";
import InputAdornment from "@mui/material/InputAdornment";
import SearchIcon from "@mui/icons-material/Search"; // Using the Search icon from Material-UI

import { useSelector, useDispatch } from "react-redux";
import { setSearchKeyword } from "./slices/searchSlice";

const CustomSearch = styled(TextField)(({ theme }) => ({
  "& .MuiOutlinedInput-root": {
    "& fieldset": {
      borderColor: "white", // Set the border color to yellow
    },
    "&:hover fieldset": {
      borderColor: "white", // Set the border color to yellow on hover
    },
    "&.Mui-focused fieldset": {
      borderColor: "white", // Set the border color to yellow on focus
      border: "1px solid white",
    },
    "& .MuiInputBase-input": {
      color: "white", // Set the text color to red
      height: "16px",
    },
  },
}));

const SearchField = () => {
  const searchText = useSelector((state) => state.search);
  const dispatch = useDispatch();

  return (
    <>
      <CustomSearch
        placeholder="Search"
        value={searchText}
        onChange={(e) => {
          dispatch(setSearchKeyword(e.target.value));
        }}
        InputProps={{
          startAdornment: (
            <InputAdornment position="start">
              <SearchIcon sx={{ color: "white" }} />
            </InputAdornment>
          ),
        }}
      />
    </>
  );
};

export default SearchField;
